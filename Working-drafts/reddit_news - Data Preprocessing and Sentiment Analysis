{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Introduction\n",
    "\n",
    "The focus of this notebook will be on cleaning a dataset and conducting sentiment analysis. The key issue is to forecast the Dow Jones, base don historical trends. The added value is the sentiment analysis of headlines and reddit news headlines of the time, and hence determine a rough idea of what happened. \n",
    "\n",
    "Source: https://www.kaggle.com/aaron7sun/stocknews\n",
    "\n",
    "## What is the problem statement?\n",
    "There are three datasets available:\n",
    "\n",
    "Reddit News Headlines\n",
    "Global Headlines\n",
    "DJIA\n",
    "The goal is to create a simple forecast of the DJIA and hence the general market performance by understanding the link between news sentiments and their impact of price.\n",
    "\n",
    "## Assumptions made\n",
    "That price moves purely on news headlines. However, we understand that price can be affected by multiple different reasons and analysts often obtain information much earlier that journalists.\n",
    "\n",
    "## Steps\n",
    "1. Import dataset and required libraries\n",
    "2. Pivoting the reddit news dataset.\n",
    "3. Cleaning the reddit news dataset.\n",
    "4. Application of the model, nothing that different columns should be given different weightages due to popularity."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Importing of libraries and dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "import nltk\n",
    "\n",
    "#If you are running this for the first time, uncomment and download the VADER list of words / lexicon\n",
    "# nltk.download('vader_lexicon')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "\n",
    "from nltk.stem import PorterStemmer\n",
    "from nltk.sentiment.vader import SentimentIntensityAnalyzer\n",
    "from sklearn.feature_extraction.text import CountVectorizer\n",
    "from sklearn.naive_bayes import MultinomialNB"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "reddit_news = pd.read_csv(\"/Users/darrentheman/Desktop/NUSFintech/ML/project/dataset/stocknews/RedditNews.csv\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "RangeIndex: 73608 entries, 0 to 73607\n",
      "Data columns (total 3 columns):\n",
      "Date    73608 non-null object\n",
      "News    73608 non-null object\n",
      "Var     73608 non-null object\n",
      "dtypes: object(3)\n",
      "memory usage: 1.7+ MB\n"
     ]
    }
   ],
   "source": [
    "reddit_news.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Pivoting of Reddit dataset\n",
    "\n",
    "Initially, the data is in this format:\n",
    "\n",
    "Date1 : [Headline1] <br>\n",
    "\n",
    "Date1 : [Headline2] <br>\n",
    "....                <br>\n",
    "....                <br>\n",
    "Date2 : [Headline1] <br> \n",
    "Date2 : [Headline2] <br>\n",
    "...\n",
    "...\n",
    "\n",
    "\n",
    "We wish to convert it into the following format instead:\n",
    "\n",
    "Date1 : [Headline1], [Headline2], [Headline3], ... <br>\n",
    "Date2 : [Headline1], [Headline2], [Headline3], ... \n",
    "\n",
    "\n",
    "This is done through the following steps:\n",
    "1. If-else statement across rows in dataframe and added into a dictionary, with key being date, value being headline\n",
    "2. convert dictionary into pd dataframe"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "dic = {}\n",
    "for i in range(len(reddit_news)):\n",
    "    date = reddit_news['Date'][i]\n",
    "    new = reddit_news['News'][i]\n",
    "    if date in dic:\n",
    "        dic[date].append(new)\n",
    "    else:\n",
    "        dic[date] = [new]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "reddit_df = pd.DataFrame.from_dict(dic, orient ='index')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>9</th>\n",
       "      <th>...</th>\n",
       "      <th>40</th>\n",
       "      <th>41</th>\n",
       "      <th>42</th>\n",
       "      <th>43</th>\n",
       "      <th>44</th>\n",
       "      <th>45</th>\n",
       "      <th>46</th>\n",
       "      <th>47</th>\n",
       "      <th>48</th>\n",
       "      <th>49</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>1/7/16</th>\n",
       "      <td>A 117-year-old woman in Mexico City finally re...</td>\n",
       "      <td>IMF chief backs Athens as permanent Olympic host</td>\n",
       "      <td>The president of France says if Brexit won, so...</td>\n",
       "      <td>British Man Who Must Give Police 24 Hours' Not...</td>\n",
       "      <td>100+ Nobel laureates urge Greenpeace to stop o...</td>\n",
       "      <td>Brazil: Huge spike in number of police killing...</td>\n",
       "      <td>Austria's highest court annuls presidential el...</td>\n",
       "      <td>Facebook wins privacy case, can track any Belg...</td>\n",
       "      <td>Switzerland denies Muslim girls citizenship af...</td>\n",
       "      <td>China kills millions of innocent meditators fo...</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>30/6/16</th>\n",
       "      <td>Jamaica proposes marijuana dispensers for tour...</td>\n",
       "      <td>Stephen Hawking says pollution and 'stupidity'...</td>\n",
       "      <td>Boris Johnson says he will not run for Tory pa...</td>\n",
       "      <td>Six gay men in Ivory Coast were abused and for...</td>\n",
       "      <td>Switzerland denies citizenship to Muslim immig...</td>\n",
       "      <td>Palestinian terrorist stabs israeli teen girl ...</td>\n",
       "      <td>Puerto Rico will default on $1 billion of debt...</td>\n",
       "      <td>Republic of Ireland fans to be awarded medal f...</td>\n",
       "      <td>Afghan suicide bomber 'kills up to 40' - BBC News</td>\n",
       "      <td>US airstrikes kill at least 250 ISIS fighters ...</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29/6/16</th>\n",
       "      <td>Explosion At Airport In Istanbul</td>\n",
       "      <td>Yemeni former president: Terrorism is the offs...</td>\n",
       "      <td>UK must accept freedom of movement to access E...</td>\n",
       "      <td>Devastated: scientists too late to captive bre...</td>\n",
       "      <td>British Labor Party leader Jeremy Corbyn loses...</td>\n",
       "      <td>A Muslim Shop in the UK Was Just Firebombed Wh...</td>\n",
       "      <td>Mexican Authorities Sexually Torture Women in ...</td>\n",
       "      <td>UK shares and pound continue to recover</td>\n",
       "      <td>Iceland historian Johannesson wins presidentia...</td>\n",
       "      <td>99-Million-Yr-Old Bird Wings Found Encased in ...</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3 rows × 50 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                        0   \\\n",
       "1/7/16   A 117-year-old woman in Mexico City finally re...   \n",
       "30/6/16  Jamaica proposes marijuana dispensers for tour...   \n",
       "29/6/16                   Explosion At Airport In Istanbul   \n",
       "\n",
       "                                                        1   \\\n",
       "1/7/16    IMF chief backs Athens as permanent Olympic host   \n",
       "30/6/16  Stephen Hawking says pollution and 'stupidity'...   \n",
       "29/6/16  Yemeni former president: Terrorism is the offs...   \n",
       "\n",
       "                                                        2   \\\n",
       "1/7/16   The president of France says if Brexit won, so...   \n",
       "30/6/16  Boris Johnson says he will not run for Tory pa...   \n",
       "29/6/16  UK must accept freedom of movement to access E...   \n",
       "\n",
       "                                                        3   \\\n",
       "1/7/16   British Man Who Must Give Police 24 Hours' Not...   \n",
       "30/6/16  Six gay men in Ivory Coast were abused and for...   \n",
       "29/6/16  Devastated: scientists too late to captive bre...   \n",
       "\n",
       "                                                        4   \\\n",
       "1/7/16   100+ Nobel laureates urge Greenpeace to stop o...   \n",
       "30/6/16  Switzerland denies citizenship to Muslim immig...   \n",
       "29/6/16  British Labor Party leader Jeremy Corbyn loses...   \n",
       "\n",
       "                                                        5   \\\n",
       "1/7/16   Brazil: Huge spike in number of police killing...   \n",
       "30/6/16  Palestinian terrorist stabs israeli teen girl ...   \n",
       "29/6/16  A Muslim Shop in the UK Was Just Firebombed Wh...   \n",
       "\n",
       "                                                        6   \\\n",
       "1/7/16   Austria's highest court annuls presidential el...   \n",
       "30/6/16  Puerto Rico will default on $1 billion of debt...   \n",
       "29/6/16  Mexican Authorities Sexually Torture Women in ...   \n",
       "\n",
       "                                                        7   \\\n",
       "1/7/16   Facebook wins privacy case, can track any Belg...   \n",
       "30/6/16  Republic of Ireland fans to be awarded medal f...   \n",
       "29/6/16            UK shares and pound continue to recover   \n",
       "\n",
       "                                                        8   \\\n",
       "1/7/16   Switzerland denies Muslim girls citizenship af...   \n",
       "30/6/16  Afghan suicide bomber 'kills up to 40' - BBC News   \n",
       "29/6/16  Iceland historian Johannesson wins presidentia...   \n",
       "\n",
       "                                                        9   ...     40    41  \\\n",
       "1/7/16   China kills millions of innocent meditators fo...  ...   None  None   \n",
       "30/6/16  US airstrikes kill at least 250 ISIS fighters ...  ...   None  None   \n",
       "29/6/16  99-Million-Yr-Old Bird Wings Found Encased in ...  ...   None  None   \n",
       "\n",
       "           42    43    44    45    46    47    48    49  \n",
       "1/7/16   None  None  None  None  None  None  None  None  \n",
       "30/6/16  None  None  None  None  None  None  None  None  \n",
       "29/6/16  None  None  None  None  None  None  None  None  \n",
       "\n",
       "[3 rows x 50 columns]"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_df.head(3)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "reddit_df = reddit_df.reset_index()\n",
    "# take note that originally the df consisted of the dates being the index column, therefore a reset-index is needed. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>...</th>\n",
       "      <th>40</th>\n",
       "      <th>41</th>\n",
       "      <th>42</th>\n",
       "      <th>43</th>\n",
       "      <th>44</th>\n",
       "      <th>45</th>\n",
       "      <th>46</th>\n",
       "      <th>47</th>\n",
       "      <th>48</th>\n",
       "      <th>49</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1/7/16</td>\n",
       "      <td>A 117-year-old woman in Mexico City finally re...</td>\n",
       "      <td>IMF chief backs Athens as permanent Olympic host</td>\n",
       "      <td>The president of France says if Brexit won, so...</td>\n",
       "      <td>British Man Who Must Give Police 24 Hours' Not...</td>\n",
       "      <td>100+ Nobel laureates urge Greenpeace to stop o...</td>\n",
       "      <td>Brazil: Huge spike in number of police killing...</td>\n",
       "      <td>Austria's highest court annuls presidential el...</td>\n",
       "      <td>Facebook wins privacy case, can track any Belg...</td>\n",
       "      <td>Switzerland denies Muslim girls citizenship af...</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>30/6/16</td>\n",
       "      <td>Jamaica proposes marijuana dispensers for tour...</td>\n",
       "      <td>Stephen Hawking says pollution and 'stupidity'...</td>\n",
       "      <td>Boris Johnson says he will not run for Tory pa...</td>\n",
       "      <td>Six gay men in Ivory Coast were abused and for...</td>\n",
       "      <td>Switzerland denies citizenship to Muslim immig...</td>\n",
       "      <td>Palestinian terrorist stabs israeli teen girl ...</td>\n",
       "      <td>Puerto Rico will default on $1 billion of debt...</td>\n",
       "      <td>Republic of Ireland fans to be awarded medal f...</td>\n",
       "      <td>Afghan suicide bomber 'kills up to 40' - BBC News</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>29/6/16</td>\n",
       "      <td>Explosion At Airport In Istanbul</td>\n",
       "      <td>Yemeni former president: Terrorism is the offs...</td>\n",
       "      <td>UK must accept freedom of movement to access E...</td>\n",
       "      <td>Devastated: scientists too late to captive bre...</td>\n",
       "      <td>British Labor Party leader Jeremy Corbyn loses...</td>\n",
       "      <td>A Muslim Shop in the UK Was Just Firebombed Wh...</td>\n",
       "      <td>Mexican Authorities Sexually Torture Women in ...</td>\n",
       "      <td>UK shares and pound continue to recover</td>\n",
       "      <td>Iceland historian Johannesson wins presidentia...</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3 rows × 51 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     index                                                  0  \\\n",
       "0   1/7/16  A 117-year-old woman in Mexico City finally re...   \n",
       "1  30/6/16  Jamaica proposes marijuana dispensers for tour...   \n",
       "2  29/6/16                   Explosion At Airport In Istanbul   \n",
       "\n",
       "                                                   1  \\\n",
       "0   IMF chief backs Athens as permanent Olympic host   \n",
       "1  Stephen Hawking says pollution and 'stupidity'...   \n",
       "2  Yemeni former president: Terrorism is the offs...   \n",
       "\n",
       "                                                   2  \\\n",
       "0  The president of France says if Brexit won, so...   \n",
       "1  Boris Johnson says he will not run for Tory pa...   \n",
       "2  UK must accept freedom of movement to access E...   \n",
       "\n",
       "                                                   3  \\\n",
       "0  British Man Who Must Give Police 24 Hours' Not...   \n",
       "1  Six gay men in Ivory Coast were abused and for...   \n",
       "2  Devastated: scientists too late to captive bre...   \n",
       "\n",
       "                                                   4  \\\n",
       "0  100+ Nobel laureates urge Greenpeace to stop o...   \n",
       "1  Switzerland denies citizenship to Muslim immig...   \n",
       "2  British Labor Party leader Jeremy Corbyn loses...   \n",
       "\n",
       "                                                   5  \\\n",
       "0  Brazil: Huge spike in number of police killing...   \n",
       "1  Palestinian terrorist stabs israeli teen girl ...   \n",
       "2  A Muslim Shop in the UK Was Just Firebombed Wh...   \n",
       "\n",
       "                                                   6  \\\n",
       "0  Austria's highest court annuls presidential el...   \n",
       "1  Puerto Rico will default on $1 billion of debt...   \n",
       "2  Mexican Authorities Sexually Torture Women in ...   \n",
       "\n",
       "                                                   7  \\\n",
       "0  Facebook wins privacy case, can track any Belg...   \n",
       "1  Republic of Ireland fans to be awarded medal f...   \n",
       "2            UK shares and pound continue to recover   \n",
       "\n",
       "                                                   8  ...     40    41    42  \\\n",
       "0  Switzerland denies Muslim girls citizenship af...  ...   None  None  None   \n",
       "1  Afghan suicide bomber 'kills up to 40' - BBC News  ...   None  None  None   \n",
       "2  Iceland historian Johannesson wins presidentia...  ...   None  None  None   \n",
       "\n",
       "     43    44    45    46    47    48    49  \n",
       "0  None  None  None  None  None  None  None  \n",
       "1  None  None  None  None  None  None  None  \n",
       "2  None  None  None  None  None  None  None  \n",
       "\n",
       "[3 rows x 51 columns]"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_df.head(3)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "index    object\n",
       "0        object\n",
       "1        object\n",
       "2        object\n",
       "3        object\n",
       "4        object\n",
       "5        object\n",
       "6        object\n",
       "7        object\n",
       "8        object\n",
       "9        object\n",
       "10       object\n",
       "11       object\n",
       "12       object\n",
       "13       object\n",
       "14       object\n",
       "15       object\n",
       "16       object\n",
       "17       object\n",
       "18       object\n",
       "19       object\n",
       "20       object\n",
       "21       object\n",
       "22       object\n",
       "23       object\n",
       "24       object\n",
       "25       object\n",
       "26       object\n",
       "27       object\n",
       "28       object\n",
       "29       object\n",
       "30       object\n",
       "31       object\n",
       "32       object\n",
       "33       object\n",
       "34       object\n",
       "35       object\n",
       "36       object\n",
       "37       object\n",
       "38       object\n",
       "39       object\n",
       "40       object\n",
       "41       object\n",
       "42       object\n",
       "43       object\n",
       "44       object\n",
       "45       object\n",
       "46       object\n",
       "47       object\n",
       "48       object\n",
       "49       object\n",
       "dtype: object"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_df.dtypes"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "reddit_df['index'] = pd.to_datetime(reddit_df['index'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>...</th>\n",
       "      <th>40</th>\n",
       "      <th>41</th>\n",
       "      <th>42</th>\n",
       "      <th>43</th>\n",
       "      <th>44</th>\n",
       "      <th>45</th>\n",
       "      <th>46</th>\n",
       "      <th>47</th>\n",
       "      <th>48</th>\n",
       "      <th>49</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2016-01-07</td>\n",
       "      <td>A 117-year-old woman in Mexico City finally re...</td>\n",
       "      <td>IMF chief backs Athens as permanent Olympic host</td>\n",
       "      <td>The president of France says if Brexit won, so...</td>\n",
       "      <td>British Man Who Must Give Police 24 Hours' Not...</td>\n",
       "      <td>100+ Nobel laureates urge Greenpeace to stop o...</td>\n",
       "      <td>Brazil: Huge spike in number of police killing...</td>\n",
       "      <td>Austria's highest court annuls presidential el...</td>\n",
       "      <td>Facebook wins privacy case, can track any Belg...</td>\n",
       "      <td>Switzerland denies Muslim girls citizenship af...</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2016-06-30</td>\n",
       "      <td>Jamaica proposes marijuana dispensers for tour...</td>\n",
       "      <td>Stephen Hawking says pollution and 'stupidity'...</td>\n",
       "      <td>Boris Johnson says he will not run for Tory pa...</td>\n",
       "      <td>Six gay men in Ivory Coast were abused and for...</td>\n",
       "      <td>Switzerland denies citizenship to Muslim immig...</td>\n",
       "      <td>Palestinian terrorist stabs israeli teen girl ...</td>\n",
       "      <td>Puerto Rico will default on $1 billion of debt...</td>\n",
       "      <td>Republic of Ireland fans to be awarded medal f...</td>\n",
       "      <td>Afghan suicide bomber 'kills up to 40' - BBC News</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2016-06-29</td>\n",
       "      <td>Explosion At Airport In Istanbul</td>\n",
       "      <td>Yemeni former president: Terrorism is the offs...</td>\n",
       "      <td>UK must accept freedom of movement to access E...</td>\n",
       "      <td>Devastated: scientists too late to captive bre...</td>\n",
       "      <td>British Labor Party leader Jeremy Corbyn loses...</td>\n",
       "      <td>A Muslim Shop in the UK Was Just Firebombed Wh...</td>\n",
       "      <td>Mexican Authorities Sexually Torture Women in ...</td>\n",
       "      <td>UK shares and pound continue to recover</td>\n",
       "      <td>Iceland historian Johannesson wins presidentia...</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3 rows × 51 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       index                                                  0  \\\n",
       "0 2016-01-07  A 117-year-old woman in Mexico City finally re...   \n",
       "1 2016-06-30  Jamaica proposes marijuana dispensers for tour...   \n",
       "2 2016-06-29                   Explosion At Airport In Istanbul   \n",
       "\n",
       "                                                   1  \\\n",
       "0   IMF chief backs Athens as permanent Olympic host   \n",
       "1  Stephen Hawking says pollution and 'stupidity'...   \n",
       "2  Yemeni former president: Terrorism is the offs...   \n",
       "\n",
       "                                                   2  \\\n",
       "0  The president of France says if Brexit won, so...   \n",
       "1  Boris Johnson says he will not run for Tory pa...   \n",
       "2  UK must accept freedom of movement to access E...   \n",
       "\n",
       "                                                   3  \\\n",
       "0  British Man Who Must Give Police 24 Hours' Not...   \n",
       "1  Six gay men in Ivory Coast were abused and for...   \n",
       "2  Devastated: scientists too late to captive bre...   \n",
       "\n",
       "                                                   4  \\\n",
       "0  100+ Nobel laureates urge Greenpeace to stop o...   \n",
       "1  Switzerland denies citizenship to Muslim immig...   \n",
       "2  British Labor Party leader Jeremy Corbyn loses...   \n",
       "\n",
       "                                                   5  \\\n",
       "0  Brazil: Huge spike in number of police killing...   \n",
       "1  Palestinian terrorist stabs israeli teen girl ...   \n",
       "2  A Muslim Shop in the UK Was Just Firebombed Wh...   \n",
       "\n",
       "                                                   6  \\\n",
       "0  Austria's highest court annuls presidential el...   \n",
       "1  Puerto Rico will default on $1 billion of debt...   \n",
       "2  Mexican Authorities Sexually Torture Women in ...   \n",
       "\n",
       "                                                   7  \\\n",
       "0  Facebook wins privacy case, can track any Belg...   \n",
       "1  Republic of Ireland fans to be awarded medal f...   \n",
       "2            UK shares and pound continue to recover   \n",
       "\n",
       "                                                   8  ...     40    41    42  \\\n",
       "0  Switzerland denies Muslim girls citizenship af...  ...   None  None  None   \n",
       "1  Afghan suicide bomber 'kills up to 40' - BBC News  ...   None  None  None   \n",
       "2  Iceland historian Johannesson wins presidentia...  ...   None  None  None   \n",
       "\n",
       "     43    44    45    46    47    48    49  \n",
       "0  None  None  None  None  None  None  None  \n",
       "1  None  None  None  None  None  None  None  \n",
       "2  None  None  None  None  None  None  None  \n",
       "\n",
       "[3 rows x 51 columns]"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_df.head(3)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Cleaning reddit news dataset\n",
    "Step 1: conversion of each headline into a string type\n",
    "Step 2: Converting to lowercase\n",
    "Step 3: Stemming process\n",
    "\n",
    "\n",
    "### Conversion of headlines into string type"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [],
   "source": [
    "reddit_df_col = reddit_df.columns\n",
    "\n",
    "for i in range(2, len(reddit_df_col)):\n",
    "    reddit_df[reddit_df_col[i]] = reddit_df[reddit_df_col[i]].astype(str)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>...</th>\n",
       "      <th>40</th>\n",
       "      <th>41</th>\n",
       "      <th>42</th>\n",
       "      <th>43</th>\n",
       "      <th>44</th>\n",
       "      <th>45</th>\n",
       "      <th>46</th>\n",
       "      <th>47</th>\n",
       "      <th>48</th>\n",
       "      <th>49</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2016-01-07</td>\n",
       "      <td>A 117-year-old woman in Mexico City finally re...</td>\n",
       "      <td>IMF chief backs Athens as permanent Olympic host</td>\n",
       "      <td>The president of France says if Brexit won, so...</td>\n",
       "      <td>British Man Who Must Give Police 24 Hours' Not...</td>\n",
       "      <td>100+ Nobel laureates urge Greenpeace to stop o...</td>\n",
       "      <td>Brazil: Huge spike in number of police killing...</td>\n",
       "      <td>Austria's highest court annuls presidential el...</td>\n",
       "      <td>Facebook wins privacy case, can track any Belg...</td>\n",
       "      <td>Switzerland denies Muslim girls citizenship af...</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2016-06-30</td>\n",
       "      <td>Jamaica proposes marijuana dispensers for tour...</td>\n",
       "      <td>Stephen Hawking says pollution and 'stupidity'...</td>\n",
       "      <td>Boris Johnson says he will not run for Tory pa...</td>\n",
       "      <td>Six gay men in Ivory Coast were abused and for...</td>\n",
       "      <td>Switzerland denies citizenship to Muslim immig...</td>\n",
       "      <td>Palestinian terrorist stabs israeli teen girl ...</td>\n",
       "      <td>Puerto Rico will default on $1 billion of debt...</td>\n",
       "      <td>Republic of Ireland fans to be awarded medal f...</td>\n",
       "      <td>Afghan suicide bomber 'kills up to 40' - BBC News</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2016-06-29</td>\n",
       "      <td>Explosion At Airport In Istanbul</td>\n",
       "      <td>Yemeni former president: Terrorism is the offs...</td>\n",
       "      <td>UK must accept freedom of movement to access E...</td>\n",
       "      <td>Devastated: scientists too late to captive bre...</td>\n",
       "      <td>British Labor Party leader Jeremy Corbyn loses...</td>\n",
       "      <td>A Muslim Shop in the UK Was Just Firebombed Wh...</td>\n",
       "      <td>Mexican Authorities Sexually Torture Women in ...</td>\n",
       "      <td>UK shares and pound continue to recover</td>\n",
       "      <td>Iceland historian Johannesson wins presidentia...</td>\n",
       "      <td>...</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "      <td>None</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3 rows × 51 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       index                                                  0  \\\n",
       "0 2016-01-07  A 117-year-old woman in Mexico City finally re...   \n",
       "1 2016-06-30  Jamaica proposes marijuana dispensers for tour...   \n",
       "2 2016-06-29                   Explosion At Airport In Istanbul   \n",
       "\n",
       "                                                   1  \\\n",
       "0   IMF chief backs Athens as permanent Olympic host   \n",
       "1  Stephen Hawking says pollution and 'stupidity'...   \n",
       "2  Yemeni former president: Terrorism is the offs...   \n",
       "\n",
       "                                                   2  \\\n",
       "0  The president of France says if Brexit won, so...   \n",
       "1  Boris Johnson says he will not run for Tory pa...   \n",
       "2  UK must accept freedom of movement to access E...   \n",
       "\n",
       "                                                   3  \\\n",
       "0  British Man Who Must Give Police 24 Hours' Not...   \n",
       "1  Six gay men in Ivory Coast were abused and for...   \n",
       "2  Devastated: scientists too late to captive bre...   \n",
       "\n",
       "                                                   4  \\\n",
       "0  100+ Nobel laureates urge Greenpeace to stop o...   \n",
       "1  Switzerland denies citizenship to Muslim immig...   \n",
       "2  British Labor Party leader Jeremy Corbyn loses...   \n",
       "\n",
       "                                                   5  \\\n",
       "0  Brazil: Huge spike in number of police killing...   \n",
       "1  Palestinian terrorist stabs israeli teen girl ...   \n",
       "2  A Muslim Shop in the UK Was Just Firebombed Wh...   \n",
       "\n",
       "                                                   6  \\\n",
       "0  Austria's highest court annuls presidential el...   \n",
       "1  Puerto Rico will default on $1 billion of debt...   \n",
       "2  Mexican Authorities Sexually Torture Women in ...   \n",
       "\n",
       "                                                   7  \\\n",
       "0  Facebook wins privacy case, can track any Belg...   \n",
       "1  Republic of Ireland fans to be awarded medal f...   \n",
       "2            UK shares and pound continue to recover   \n",
       "\n",
       "                                                   8  ...     40    41    42  \\\n",
       "0  Switzerland denies Muslim girls citizenship af...  ...   None  None  None   \n",
       "1  Afghan suicide bomber 'kills up to 40' - BBC News  ...   None  None  None   \n",
       "2  Iceland historian Johannesson wins presidentia...  ...   None  None  None   \n",
       "\n",
       "     43    44    45    46    47    48    49  \n",
       "0  None  None  None  None  None  None  None  \n",
       "1  None  None  None  None  None  None  None  \n",
       "2  None  None  None  None  None  None  None  \n",
       "\n",
       "[3 rows x 51 columns]"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_df.head(3)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Conversion of headlines into lowercase"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "reddit_df2 = reddit_df.copy()\n",
    "reddit_df2_col = reddit_df2.columns\n",
    "\n",
    "for i in range(2, len(reddit_df2_col)):\n",
    "    reddit_df2[reddit_df2_col[i]] = reddit_df2[reddit_df2_col[i]].apply(lambda x: x.lower())\n",
    "    reddit_df2[reddit_df2_col[i]] = reddit_df2[reddit_df2_col[i]].str.replace('[^\\w\\s]','')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>...</th>\n",
       "      <th>40</th>\n",
       "      <th>41</th>\n",
       "      <th>42</th>\n",
       "      <th>43</th>\n",
       "      <th>44</th>\n",
       "      <th>45</th>\n",
       "      <th>46</th>\n",
       "      <th>47</th>\n",
       "      <th>48</th>\n",
       "      <th>49</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2016-01-07</td>\n",
       "      <td>A 117-year-old woman in Mexico City finally re...</td>\n",
       "      <td>imf chief backs athens as permanent olympic host</td>\n",
       "      <td>the president of france says if brexit won so ...</td>\n",
       "      <td>british man who must give police 24 hours noti...</td>\n",
       "      <td>100 nobel laureates urge greenpeace to stop op...</td>\n",
       "      <td>brazil huge spike in number of police killings...</td>\n",
       "      <td>austrias highest court annuls presidential ele...</td>\n",
       "      <td>facebook wins privacy case can track any belgi...</td>\n",
       "      <td>switzerland denies muslim girls citizenship af...</td>\n",
       "      <td>...</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2016-06-30</td>\n",
       "      <td>Jamaica proposes marijuana dispensers for tour...</td>\n",
       "      <td>stephen hawking says pollution and stupidity s...</td>\n",
       "      <td>boris johnson says he will not run for tory pa...</td>\n",
       "      <td>six gay men in ivory coast were abused and for...</td>\n",
       "      <td>switzerland denies citizenship to muslim immig...</td>\n",
       "      <td>palestinian terrorist stabs israeli teen girl ...</td>\n",
       "      <td>puerto rico will default on 1 billion of debt ...</td>\n",
       "      <td>republic of ireland fans to be awarded medal f...</td>\n",
       "      <td>afghan suicide bomber kills up to 40  bbc news</td>\n",
       "      <td>...</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2 rows × 51 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       index                                                  0  \\\n",
       "0 2016-01-07  A 117-year-old woman in Mexico City finally re...   \n",
       "1 2016-06-30  Jamaica proposes marijuana dispensers for tour...   \n",
       "\n",
       "                                                   1  \\\n",
       "0   imf chief backs athens as permanent olympic host   \n",
       "1  stephen hawking says pollution and stupidity s...   \n",
       "\n",
       "                                                   2  \\\n",
       "0  the president of france says if brexit won so ...   \n",
       "1  boris johnson says he will not run for tory pa...   \n",
       "\n",
       "                                                   3  \\\n",
       "0  british man who must give police 24 hours noti...   \n",
       "1  six gay men in ivory coast were abused and for...   \n",
       "\n",
       "                                                   4  \\\n",
       "0  100 nobel laureates urge greenpeace to stop op...   \n",
       "1  switzerland denies citizenship to muslim immig...   \n",
       "\n",
       "                                                   5  \\\n",
       "0  brazil huge spike in number of police killings...   \n",
       "1  palestinian terrorist stabs israeli teen girl ...   \n",
       "\n",
       "                                                   6  \\\n",
       "0  austrias highest court annuls presidential ele...   \n",
       "1  puerto rico will default on 1 billion of debt ...   \n",
       "\n",
       "                                                   7  \\\n",
       "0  facebook wins privacy case can track any belgi...   \n",
       "1  republic of ireland fans to be awarded medal f...   \n",
       "\n",
       "                                                   8  ...     40    41    42  \\\n",
       "0  switzerland denies muslim girls citizenship af...  ...   none  none  none   \n",
       "1     afghan suicide bomber kills up to 40  bbc news  ...   none  none  none   \n",
       "\n",
       "     43    44    45    46    47    48    49  \n",
       "0  none  none  none  none  none  none  none  \n",
       "1  none  none  none  none  none  none  none  \n",
       "\n",
       "[2 rows x 51 columns]"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_df2.head(2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Stemming Process\n",
    "\n",
    "https://searchenterpriseai.techtarget.com/definition/stemming"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "st = PorterStemmer()\n",
    "\n",
    "for i in range(2, len(reddit_df2_col)):\n",
    "    reddit_df2[reddit_df2_col[i]] = reddit_df2[reddit_df2_col[i]].apply(lambda x: \" \".join([st.stem(word) for word in x.split()]))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>...</th>\n",
       "      <th>40</th>\n",
       "      <th>41</th>\n",
       "      <th>42</th>\n",
       "      <th>43</th>\n",
       "      <th>44</th>\n",
       "      <th>45</th>\n",
       "      <th>46</th>\n",
       "      <th>47</th>\n",
       "      <th>48</th>\n",
       "      <th>49</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2016-01-07</td>\n",
       "      <td>A 117-year-old woman in Mexico City finally re...</td>\n",
       "      <td>imf chief back athen as perman olymp host</td>\n",
       "      <td>the presid of franc say if brexit won so can d...</td>\n",
       "      <td>british man who must give polic 24 hour notic ...</td>\n",
       "      <td>100 nobel laureat urg greenpeac to stop oppos gmo</td>\n",
       "      <td>brazil huge spike in number of polic kill in r...</td>\n",
       "      <td>austria highest court annul presidenti elect n...</td>\n",
       "      <td>facebook win privaci case can track ani belgia...</td>\n",
       "      <td>switzerland deni muslim girl citizenship after...</td>\n",
       "      <td>...</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2016-06-30</td>\n",
       "      <td>Jamaica proposes marijuana dispensers for tour...</td>\n",
       "      <td>stephen hawk say pollut and stupid still bigge...</td>\n",
       "      <td>bori johnson say he will not run for tori part...</td>\n",
       "      <td>six gay men in ivori coast were abus and forc ...</td>\n",
       "      <td>switzerland deni citizenship to muslim immigr ...</td>\n",
       "      <td>palestinian terrorist stab isra teen girl to d...</td>\n",
       "      <td>puerto rico will default on 1 billion of debt ...</td>\n",
       "      <td>republ of ireland fan to be award medal for sp...</td>\n",
       "      <td>afghan suicid bomber kill up to 40 bbc news</td>\n",
       "      <td>...</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2 rows × 51 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       index                                                  0  \\\n",
       "0 2016-01-07  A 117-year-old woman in Mexico City finally re...   \n",
       "1 2016-06-30  Jamaica proposes marijuana dispensers for tour...   \n",
       "\n",
       "                                                   1  \\\n",
       "0          imf chief back athen as perman olymp host   \n",
       "1  stephen hawk say pollut and stupid still bigge...   \n",
       "\n",
       "                                                   2  \\\n",
       "0  the presid of franc say if brexit won so can d...   \n",
       "1  bori johnson say he will not run for tori part...   \n",
       "\n",
       "                                                   3  \\\n",
       "0  british man who must give polic 24 hour notic ...   \n",
       "1  six gay men in ivori coast were abus and forc ...   \n",
       "\n",
       "                                                   4  \\\n",
       "0  100 nobel laureat urg greenpeac to stop oppos gmo   \n",
       "1  switzerland deni citizenship to muslim immigr ...   \n",
       "\n",
       "                                                   5  \\\n",
       "0  brazil huge spike in number of polic kill in r...   \n",
       "1  palestinian terrorist stab isra teen girl to d...   \n",
       "\n",
       "                                                   6  \\\n",
       "0  austria highest court annul presidenti elect n...   \n",
       "1  puerto rico will default on 1 billion of debt ...   \n",
       "\n",
       "                                                   7  \\\n",
       "0  facebook win privaci case can track ani belgia...   \n",
       "1  republ of ireland fan to be award medal for sp...   \n",
       "\n",
       "                                                   8  ...     40    41    42  \\\n",
       "0  switzerland deni muslim girl citizenship after...  ...   none  none  none   \n",
       "1        afghan suicid bomber kill up to 40 bbc news  ...   none  none  none   \n",
       "\n",
       "     43    44    45    46    47    48    49  \n",
       "0  none  none  none  none  none  none  none  \n",
       "1  none  none  none  none  none  none  none  \n",
       "\n",
       "[2 rows x 51 columns]"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_df2.head(2)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## --- End of data pre-processing ---\n",
    "\n",
    "To recap, what has been done:\n",
    "1. Importing of datasets and libraries\n",
    "2. Pivoting of dataset \n",
    "3. Converting headlines to strings\n",
    "4. Converting headlines to lowercase\n",
    "\n",
    "\n",
    "# Analysis of data\n",
    "\n",
    "## Firstly, calculate relevance score\n",
    "\n",
    "We will use the Jaccard Similarity to determine how similar each headline is compared to the rest of the headlines for that particular day.\n",
    "\n",
    "The higher the score, the more relevant the headline is for that particular day. This means that the events mentioned in the higher scoring headlines are likely to be larger events.\n",
    "\n",
    "Since stock markets are sensitive to current affairs, larger events are likely to affect the stock market more.\n",
    "\n",
    "Hence, using the relevance score, we will be able to add weightage to the sentiment score for each headline."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [],
   "source": [
    "reddit_df2_row = reddit_df2.shape[0]\n",
    "reddit_df2_jaccard = []\n",
    "\n",
    "def calculate_jaccard_score(d1, d2):\n",
    "    set_a, set_b = set(d1), set(d2)\n",
    "    return len(set_a & set_b) / len(set_a | set_b)\n",
    "\n",
    "for i in range(reddit_df2_row):\n",
    "    jaccard_score_list = []\n",
    "    for j in range(2, len(reddit_df2_col)):\n",
    "        jaccard_scores = []\n",
    "        for k in range(2, len(reddit_df2_col)):\n",
    "            if j != k:\n",
    "                jaccard_scores.append(calculate_jaccard_score(reddit_df2.iloc[i][j], reddit_df2.iloc[i][k]))\n",
    "        jaccard_score_list.append(np.mean(jaccard_scores))\n",
    "    reddit_df2_jaccard.append(jaccard_score_list)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>9</th>\n",
       "      <th>10</th>\n",
       "      <th>...</th>\n",
       "      <th>40</th>\n",
       "      <th>41</th>\n",
       "      <th>42</th>\n",
       "      <th>43</th>\n",
       "      <th>44</th>\n",
       "      <th>45</th>\n",
       "      <th>46</th>\n",
       "      <th>47</th>\n",
       "      <th>48</th>\n",
       "      <th>49</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.415056</td>\n",
       "      <td>0.386602</td>\n",
       "      <td>0.369552</td>\n",
       "      <td>0.411668</td>\n",
       "      <td>0.411855</td>\n",
       "      <td>0.433077</td>\n",
       "      <td>0.390255</td>\n",
       "      <td>0.408531</td>\n",
       "      <td>0.422288</td>\n",
       "      <td>0.397166</td>\n",
       "      <td>...</td>\n",
       "      <td>0.590995</td>\n",
       "      <td>0.590995</td>\n",
       "      <td>0.590995</td>\n",
       "      <td>0.590995</td>\n",
       "      <td>0.590995</td>\n",
       "      <td>0.590995</td>\n",
       "      <td>0.590995</td>\n",
       "      <td>0.590995</td>\n",
       "      <td>0.590995</td>\n",
       "      <td>0.590995</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.405628</td>\n",
       "      <td>0.433632</td>\n",
       "      <td>0.439023</td>\n",
       "      <td>0.413236</td>\n",
       "      <td>0.389936</td>\n",
       "      <td>0.431671</td>\n",
       "      <td>0.419338</td>\n",
       "      <td>0.359384</td>\n",
       "      <td>0.435859</td>\n",
       "      <td>0.414401</td>\n",
       "      <td>...</td>\n",
       "      <td>0.588631</td>\n",
       "      <td>0.588631</td>\n",
       "      <td>0.588631</td>\n",
       "      <td>0.588631</td>\n",
       "      <td>0.588631</td>\n",
       "      <td>0.588631</td>\n",
       "      <td>0.588631</td>\n",
       "      <td>0.588631</td>\n",
       "      <td>0.588631</td>\n",
       "      <td>0.588631</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.386819</td>\n",
       "      <td>0.416805</td>\n",
       "      <td>0.423020</td>\n",
       "      <td>0.409653</td>\n",
       "      <td>0.397823</td>\n",
       "      <td>0.397285</td>\n",
       "      <td>0.385085</td>\n",
       "      <td>0.406049</td>\n",
       "      <td>0.374748</td>\n",
       "      <td>0.434681</td>\n",
       "      <td>...</td>\n",
       "      <td>0.593340</td>\n",
       "      <td>0.593340</td>\n",
       "      <td>0.593340</td>\n",
       "      <td>0.593340</td>\n",
       "      <td>0.593340</td>\n",
       "      <td>0.593340</td>\n",
       "      <td>0.593340</td>\n",
       "      <td>0.593340</td>\n",
       "      <td>0.593340</td>\n",
       "      <td>0.593340</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.401936</td>\n",
       "      <td>0.420564</td>\n",
       "      <td>0.403558</td>\n",
       "      <td>0.378359</td>\n",
       "      <td>0.428835</td>\n",
       "      <td>0.394053</td>\n",
       "      <td>0.411207</td>\n",
       "      <td>0.433262</td>\n",
       "      <td>0.369684</td>\n",
       "      <td>0.398904</td>\n",
       "      <td>...</td>\n",
       "      <td>0.590291</td>\n",
       "      <td>0.590291</td>\n",
       "      <td>0.590291</td>\n",
       "      <td>0.590291</td>\n",
       "      <td>0.590291</td>\n",
       "      <td>0.590291</td>\n",
       "      <td>0.590291</td>\n",
       "      <td>0.590291</td>\n",
       "      <td>0.590291</td>\n",
       "      <td>0.590291</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.376994</td>\n",
       "      <td>0.426506</td>\n",
       "      <td>0.394947</td>\n",
       "      <td>0.385254</td>\n",
       "      <td>0.423436</td>\n",
       "      <td>0.407595</td>\n",
       "      <td>0.429863</td>\n",
       "      <td>0.428811</td>\n",
       "      <td>0.411522</td>\n",
       "      <td>0.403775</td>\n",
       "      <td>...</td>\n",
       "      <td>0.590310</td>\n",
       "      <td>0.590310</td>\n",
       "      <td>0.590310</td>\n",
       "      <td>0.590310</td>\n",
       "      <td>0.590310</td>\n",
       "      <td>0.590310</td>\n",
       "      <td>0.590310</td>\n",
       "      <td>0.590310</td>\n",
       "      <td>0.590310</td>\n",
       "      <td>0.590310</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>0.430616</td>\n",
       "      <td>0.383132</td>\n",
       "      <td>0.424660</td>\n",
       "      <td>0.417234</td>\n",
       "      <td>0.430278</td>\n",
       "      <td>0.411565</td>\n",
       "      <td>0.357876</td>\n",
       "      <td>0.439298</td>\n",
       "      <td>0.375737</td>\n",
       "      <td>0.438713</td>\n",
       "      <td>...</td>\n",
       "      <td>0.590480</td>\n",
       "      <td>0.590480</td>\n",
       "      <td>0.590480</td>\n",
       "      <td>0.590480</td>\n",
       "      <td>0.590480</td>\n",
       "      <td>0.590480</td>\n",
       "      <td>0.590480</td>\n",
       "      <td>0.590480</td>\n",
       "      <td>0.590480</td>\n",
       "      <td>0.590480</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>0.398441</td>\n",
       "      <td>0.393492</td>\n",
       "      <td>0.380517</td>\n",
       "      <td>0.320974</td>\n",
       "      <td>0.416426</td>\n",
       "      <td>0.403249</td>\n",
       "      <td>0.406581</td>\n",
       "      <td>0.419798</td>\n",
       "      <td>0.389301</td>\n",
       "      <td>0.380615</td>\n",
       "      <td>...</td>\n",
       "      <td>0.592459</td>\n",
       "      <td>0.592459</td>\n",
       "      <td>0.592459</td>\n",
       "      <td>0.592459</td>\n",
       "      <td>0.592459</td>\n",
       "      <td>0.592459</td>\n",
       "      <td>0.592459</td>\n",
       "      <td>0.592459</td>\n",
       "      <td>0.592459</td>\n",
       "      <td>0.592459</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>0.414526</td>\n",
       "      <td>0.398144</td>\n",
       "      <td>0.404443</td>\n",
       "      <td>0.391933</td>\n",
       "      <td>0.388243</td>\n",
       "      <td>0.413686</td>\n",
       "      <td>0.418435</td>\n",
       "      <td>0.410163</td>\n",
       "      <td>0.348022</td>\n",
       "      <td>0.420922</td>\n",
       "      <td>...</td>\n",
       "      <td>0.592336</td>\n",
       "      <td>0.592336</td>\n",
       "      <td>0.592336</td>\n",
       "      <td>0.592336</td>\n",
       "      <td>0.592336</td>\n",
       "      <td>0.592336</td>\n",
       "      <td>0.592336</td>\n",
       "      <td>0.592336</td>\n",
       "      <td>0.592336</td>\n",
       "      <td>0.592336</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>0.411327</td>\n",
       "      <td>0.419028</td>\n",
       "      <td>0.417165</td>\n",
       "      <td>0.432376</td>\n",
       "      <td>0.421846</td>\n",
       "      <td>0.434885</td>\n",
       "      <td>0.342418</td>\n",
       "      <td>0.443518</td>\n",
       "      <td>0.356919</td>\n",
       "      <td>0.429295</td>\n",
       "      <td>...</td>\n",
       "      <td>0.593121</td>\n",
       "      <td>0.593121</td>\n",
       "      <td>0.593121</td>\n",
       "      <td>0.593121</td>\n",
       "      <td>0.593121</td>\n",
       "      <td>0.593121</td>\n",
       "      <td>0.593121</td>\n",
       "      <td>0.593121</td>\n",
       "      <td>0.593121</td>\n",
       "      <td>0.593121</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>0.421757</td>\n",
       "      <td>0.394098</td>\n",
       "      <td>0.425886</td>\n",
       "      <td>0.365525</td>\n",
       "      <td>0.420769</td>\n",
       "      <td>0.422927</td>\n",
       "      <td>0.378786</td>\n",
       "      <td>0.405492</td>\n",
       "      <td>0.418212</td>\n",
       "      <td>0.381370</td>\n",
       "      <td>...</td>\n",
       "      <td>0.588808</td>\n",
       "      <td>0.588808</td>\n",
       "      <td>0.588808</td>\n",
       "      <td>0.588808</td>\n",
       "      <td>0.588808</td>\n",
       "      <td>0.588808</td>\n",
       "      <td>0.588808</td>\n",
       "      <td>0.588808</td>\n",
       "      <td>0.588808</td>\n",
       "      <td>0.588808</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>10 rows × 49 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "         1         2         3         4         5         6         7   \\\n",
       "0  0.415056  0.386602  0.369552  0.411668  0.411855  0.433077  0.390255   \n",
       "1  0.405628  0.433632  0.439023  0.413236  0.389936  0.431671  0.419338   \n",
       "2  0.386819  0.416805  0.423020  0.409653  0.397823  0.397285  0.385085   \n",
       "3  0.401936  0.420564  0.403558  0.378359  0.428835  0.394053  0.411207   \n",
       "4  0.376994  0.426506  0.394947  0.385254  0.423436  0.407595  0.429863   \n",
       "5  0.430616  0.383132  0.424660  0.417234  0.430278  0.411565  0.357876   \n",
       "6  0.398441  0.393492  0.380517  0.320974  0.416426  0.403249  0.406581   \n",
       "7  0.414526  0.398144  0.404443  0.391933  0.388243  0.413686  0.418435   \n",
       "8  0.411327  0.419028  0.417165  0.432376  0.421846  0.434885  0.342418   \n",
       "9  0.421757  0.394098  0.425886  0.365525  0.420769  0.422927  0.378786   \n",
       "\n",
       "         8         9         10    ...           40        41        42  \\\n",
       "0  0.408531  0.422288  0.397166    ...     0.590995  0.590995  0.590995   \n",
       "1  0.359384  0.435859  0.414401    ...     0.588631  0.588631  0.588631   \n",
       "2  0.406049  0.374748  0.434681    ...     0.593340  0.593340  0.593340   \n",
       "3  0.433262  0.369684  0.398904    ...     0.590291  0.590291  0.590291   \n",
       "4  0.428811  0.411522  0.403775    ...     0.590310  0.590310  0.590310   \n",
       "5  0.439298  0.375737  0.438713    ...     0.590480  0.590480  0.590480   \n",
       "6  0.419798  0.389301  0.380615    ...     0.592459  0.592459  0.592459   \n",
       "7  0.410163  0.348022  0.420922    ...     0.592336  0.592336  0.592336   \n",
       "8  0.443518  0.356919  0.429295    ...     0.593121  0.593121  0.593121   \n",
       "9  0.405492  0.418212  0.381370    ...     0.588808  0.588808  0.588808   \n",
       "\n",
       "         43        44        45        46        47        48        49  \n",
       "0  0.590995  0.590995  0.590995  0.590995  0.590995  0.590995  0.590995  \n",
       "1  0.588631  0.588631  0.588631  0.588631  0.588631  0.588631  0.588631  \n",
       "2  0.593340  0.593340  0.593340  0.593340  0.593340  0.593340  0.593340  \n",
       "3  0.590291  0.590291  0.590291  0.590291  0.590291  0.590291  0.590291  \n",
       "4  0.590310  0.590310  0.590310  0.590310  0.590310  0.590310  0.590310  \n",
       "5  0.590480  0.590480  0.590480  0.590480  0.590480  0.590480  0.590480  \n",
       "6  0.592459  0.592459  0.592459  0.592459  0.592459  0.592459  0.592459  \n",
       "7  0.592336  0.592336  0.592336  0.592336  0.592336  0.592336  0.592336  \n",
       "8  0.593121  0.593121  0.593121  0.593121  0.593121  0.593121  0.593121  \n",
       "9  0.588808  0.588808  0.588808  0.588808  0.588808  0.588808  0.588808  \n",
       "\n",
       "[10 rows x 49 columns]"
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Converting into Dataframe\n",
    "reddit_news_jaccard_df = pd.DataFrame(reddit_df2_jaccard)\n",
    "\n",
    "#Adding column name\n",
    "reddit_news_jaccard_df.columns = (reddit_df2.columns[2:])\n",
    "\n",
    "reddit_news_jaccard_df.head(10)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Sentiment Analsis is split into three parts\n",
    "\n",
    "We will split the sentiment analysis into 3 parts.\n",
    "\n",
    "For part 1, we will calculate a sentiment score for each headline.\n",
    "\n",
    "For part 2, we will bring in the relevance score and calculate a weighted sentiment score for each headline.\n",
    "\n",
    "For part 3, we will calculate an overall sentiment score for each day.\n",
    "\n",
    "### Part 1\n",
    "\n",
    "To calculate the sentiment score, we will use the sentiment analyzer from the nltk library. It uses the VADER method or Valence Aware Dictionary for sEntiment Reasoning. It is a lexicon (vocabulary) of words and their relative sentiment strength."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [],
   "source": [
    "sid = SentimentIntensityAnalyzer()\n",
    "\n",
    "reddit_df2_row = reddit_df2.shape[0]\n",
    "reddit_df2_sentiment = []\n",
    "\n",
    "for i in range(reddit_df2_row):\n",
    "    sentiment_score_list = []\n",
    "    for j in range(2, len(reddit_df2_col)):\n",
    "        ss = sid.polarity_scores(reddit_df2.iloc[i][j])\n",
    "        sentiment_score = ss['compound']\n",
    "        sentiment_score_list.append(sentiment_score)\n",
    "    reddit_df2_sentiment.append(sentiment_score_list)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>9</th>\n",
       "      <th>10</th>\n",
       "      <th>...</th>\n",
       "      <th>40</th>\n",
       "      <th>41</th>\n",
       "      <th>42</th>\n",
       "      <th>43</th>\n",
       "      <th>44</th>\n",
       "      <th>45</th>\n",
       "      <th>46</th>\n",
       "      <th>47</th>\n",
       "      <th>48</th>\n",
       "      <th>49</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.5719</td>\n",
       "      <td>-0.8658</td>\n",
       "      <td>-0.296</td>\n",
       "      <td>-0.4767</td>\n",
       "      <td>-0.3182</td>\n",
       "      <td>0.6157</td>\n",
       "      <td>-0.2960</td>\n",
       "      <td>-0.6908</td>\n",
       "      <td>-0.5574</td>\n",
       "      <td>-0.6486</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.0000</td>\n",
       "      <td>-0.6369</td>\n",
       "      <td>0.000</td>\n",
       "      <td>-0.9246</td>\n",
       "      <td>-0.3612</td>\n",
       "      <td>0.8360</td>\n",
       "      <td>-0.6908</td>\n",
       "      <td>-0.6249</td>\n",
       "      <td>0.5994</td>\n",
       "      <td>0.4019</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2 rows × 49 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       1       2      3       4       5       6       7       8       9   \\\n",
       "0  0.5719 -0.8658 -0.296 -0.4767 -0.3182  0.6157 -0.2960 -0.6908 -0.5574   \n",
       "1  0.0000 -0.6369  0.000 -0.9246 -0.3612  0.8360 -0.6908 -0.6249  0.5994   \n",
       "\n",
       "       10 ...    40   41   42   43   44   45   46   47   48   49  \n",
       "0 -0.6486 ...   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  \n",
       "1  0.4019 ...   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  \n",
       "\n",
       "[2 rows x 49 columns]"
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Converting into Dataframe\n",
    "reddit_news_sentiment_df = pd.DataFrame(reddit_df2_sentiment)\n",
    "\n",
    "#Adding column name\n",
    "reddit_news_sentiment_df.columns = (reddit_df2.columns[2:])\n",
    "\n",
    "reddit_news_sentiment_df.head(2)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part 2\n",
    "\n",
    "Calculating relevance score"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>9</th>\n",
       "      <th>10</th>\n",
       "      <th>...</th>\n",
       "      <th>40</th>\n",
       "      <th>41</th>\n",
       "      <th>42</th>\n",
       "      <th>43</th>\n",
       "      <th>44</th>\n",
       "      <th>45</th>\n",
       "      <th>46</th>\n",
       "      <th>47</th>\n",
       "      <th>48</th>\n",
       "      <th>49</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.237370</td>\n",
       "      <td>-0.334720</td>\n",
       "      <td>-0.109387</td>\n",
       "      <td>-0.196242</td>\n",
       "      <td>-0.131052</td>\n",
       "      <td>0.266645</td>\n",
       "      <td>-0.115515</td>\n",
       "      <td>-0.282213</td>\n",
       "      <td>-0.235383</td>\n",
       "      <td>-0.257602</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>-0.276180</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>-0.382078</td>\n",
       "      <td>-0.140845</td>\n",
       "      <td>0.360877</td>\n",
       "      <td>-0.289679</td>\n",
       "      <td>-0.224579</td>\n",
       "      <td>0.261254</td>\n",
       "      <td>0.166548</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.301061</td>\n",
       "      <td>-0.068981</td>\n",
       "      <td>-0.256308</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>-0.203128</td>\n",
       "      <td>0.117596</td>\n",
       "      <td>0.225621</td>\n",
       "      <td>0.178824</td>\n",
       "      <td>0.272404</td>\n",
       "      <td>-0.312275</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.051448</td>\n",
       "      <td>0.133824</td>\n",
       "      <td>-0.224943</td>\n",
       "      <td>-0.278132</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.116640</td>\n",
       "      <td>-0.112342</td>\n",
       "      <td>0.147309</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.010292</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>-0.143936</td>\n",
       "      <td>-0.126246</td>\n",
       "      <td>0.116904</td>\n",
       "      <td>-0.105251</td>\n",
       "      <td>-0.032689</td>\n",
       "      <td>-0.326891</td>\n",
       "      <td>-0.308813</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.292016</td>\n",
       "      <td>-0.119517</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 49 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "         1         2         3         4         5         6         7   \\\n",
       "0  0.237370 -0.334720 -0.109387 -0.196242 -0.131052  0.266645 -0.115515   \n",
       "1  0.000000 -0.276180  0.000000 -0.382078 -0.140845  0.360877 -0.289679   \n",
       "2  0.301061 -0.068981 -0.256308  0.000000 -0.203128  0.117596  0.225621   \n",
       "3  0.051448  0.133824 -0.224943 -0.278132  0.000000  0.116640 -0.112342   \n",
       "4 -0.143936 -0.126246  0.116904 -0.105251 -0.032689 -0.326891 -0.308813   \n",
       "\n",
       "         8         9         10 ...    40   41   42   43   44   45   46   47  \\\n",
       "0 -0.282213 -0.235383 -0.257602 ...   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0   \n",
       "1 -0.224579  0.261254  0.166548 ...   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0   \n",
       "2  0.178824  0.272404 -0.312275 ...   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0   \n",
       "3  0.147309  0.000000  0.010292 ...   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0   \n",
       "4  0.000000  0.292016 -0.119517 ...   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0   \n",
       "\n",
       "    48   49  \n",
       "0  0.0  0.0  \n",
       "1  0.0  0.0  \n",
       "2  0.0  0.0  \n",
       "3  0.0  0.0  \n",
       "4  0.0  0.0  \n",
       "\n",
       "[5 rows x 49 columns]"
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_news_weighted_df = reddit_news_jaccard_df * reddit_news_sentiment_df\n",
    "reddit_news_weighted_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>...</th>\n",
       "      <th>40</th>\n",
       "      <th>41</th>\n",
       "      <th>42</th>\n",
       "      <th>43</th>\n",
       "      <th>44</th>\n",
       "      <th>45</th>\n",
       "      <th>46</th>\n",
       "      <th>47</th>\n",
       "      <th>48</th>\n",
       "      <th>49</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2016-01-07</td>\n",
       "      <td>A 117-year-old woman in Mexico City finally re...</td>\n",
       "      <td>imf chief back athen as perman olymp host</td>\n",
       "      <td>the presid of franc say if brexit won so can d...</td>\n",
       "      <td>british man who must give polic 24 hour notic ...</td>\n",
       "      <td>100 nobel laureat urg greenpeac to stop oppos gmo</td>\n",
       "      <td>brazil huge spike in number of polic kill in r...</td>\n",
       "      <td>austria highest court annul presidenti elect n...</td>\n",
       "      <td>facebook win privaci case can track ani belgia...</td>\n",
       "      <td>switzerland deni muslim girl citizenship after...</td>\n",
       "      <td>...</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2016-06-30</td>\n",
       "      <td>Jamaica proposes marijuana dispensers for tour...</td>\n",
       "      <td>stephen hawk say pollut and stupid still bigge...</td>\n",
       "      <td>bori johnson say he will not run for tori part...</td>\n",
       "      <td>six gay men in ivori coast were abus and forc ...</td>\n",
       "      <td>switzerland deni citizenship to muslim immigr ...</td>\n",
       "      <td>palestinian terrorist stab isra teen girl to d...</td>\n",
       "      <td>puerto rico will default on 1 billion of debt ...</td>\n",
       "      <td>republ of ireland fan to be award medal for sp...</td>\n",
       "      <td>afghan suicid bomber kill up to 40 bbc news</td>\n",
       "      <td>...</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "      <td>none</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2 rows × 51 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       index                                                  0  \\\n",
       "0 2016-01-07  A 117-year-old woman in Mexico City finally re...   \n",
       "1 2016-06-30  Jamaica proposes marijuana dispensers for tour...   \n",
       "\n",
       "                                                   1  \\\n",
       "0          imf chief back athen as perman olymp host   \n",
       "1  stephen hawk say pollut and stupid still bigge...   \n",
       "\n",
       "                                                   2  \\\n",
       "0  the presid of franc say if brexit won so can d...   \n",
       "1  bori johnson say he will not run for tori part...   \n",
       "\n",
       "                                                   3  \\\n",
       "0  british man who must give polic 24 hour notic ...   \n",
       "1  six gay men in ivori coast were abus and forc ...   \n",
       "\n",
       "                                                   4  \\\n",
       "0  100 nobel laureat urg greenpeac to stop oppos gmo   \n",
       "1  switzerland deni citizenship to muslim immigr ...   \n",
       "\n",
       "                                                   5  \\\n",
       "0  brazil huge spike in number of polic kill in r...   \n",
       "1  palestinian terrorist stab isra teen girl to d...   \n",
       "\n",
       "                                                   6  \\\n",
       "0  austria highest court annul presidenti elect n...   \n",
       "1  puerto rico will default on 1 billion of debt ...   \n",
       "\n",
       "                                                   7  \\\n",
       "0  facebook win privaci case can track ani belgia...   \n",
       "1  republ of ireland fan to be award medal for sp...   \n",
       "\n",
       "                                                   8  ...     40    41    42  \\\n",
       "0  switzerland deni muslim girl citizenship after...  ...   none  none  none   \n",
       "1        afghan suicid bomber kill up to 40 bbc news  ...   none  none  none   \n",
       "\n",
       "     43    44    45    46    47    48    49  \n",
       "0  none  none  none  none  none  none  none  \n",
       "1  none  none  none  none  none  none  none  \n",
       "\n",
       "[2 rows x 51 columns]"
      ]
     },
     "execution_count": 37,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_df2.head(2)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part 3\n",
    "Calculating final sentiment score for each day"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/Users/darrentheman/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:4: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy\n",
      "  after removing the cwd from sys.path.\n"
     ]
    }
   ],
   "source": [
    "reddit_news_overall_sentiment = reddit_df2[['index']]\n",
    "\n",
    "\n",
    "reddit_news_overall_sentiment['reddit_news_sentiment'] = reddit_news_weighted_df.mean(axis=1, skipna = True)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>reddit_news_sentiment</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2016-01-07</td>\n",
       "      <td>-0.068551</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2016-06-30</td>\n",
       "      <td>-0.047870</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "       index  reddit_news_sentiment\n",
       "0 2016-01-07              -0.068551\n",
       "1 2016-06-30              -0.047870"
      ]
     },
     "execution_count": 31,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_news_overall_sentiment.head(2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/Users/darrentheman/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:3: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy\n",
      "  This is separate from the ipykernel package so we can avoid doing imports until\n"
     ]
    }
   ],
   "source": [
    "\n",
    "\n",
    "reddit_news_overall_sentiment['reddit_news_sentiment'] = (reddit_news_weighted_df.mean(axis=1))\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>reddit_news_sentiment</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2016-01-07</td>\n",
       "      <td>-0.068551</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2016-06-30</td>\n",
       "      <td>-0.047870</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "       index  reddit_news_sentiment\n",
       "0 2016-01-07              -0.068551\n",
       "1 2016-06-30              -0.047870"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "reddit_news_overall_sentiment.head(2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
